@startuml
title 광고 유형별 리워드 지급 흐름

actor User as "사용자"
participant "광고 페이지" as AdPage
participant "서버/백엔드" as Server

== 1. 노출형 ==
User -> AdPage : 광고 페이지 방문
AdPage -> Server : 방문 기록 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 2. SNS형 ==
User -> AdPage : SNS 인증샷 업로드 버튼 클릭
AdPage -> User : SNS 인증샷 업로드 안내
User -> AdPage : 인증샷 업로드/공유
AdPage -> Server : 인증샷 업로드/공유 내역 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 3. UA 특화형 ==
User -> AdPage : 앱 설치 광고 클릭
AdPage -> User : 앱 설치 유도
User -> "앱스토어" : 앱 설치
User -> "설치된 앱" : 앱 실행
"설치된 앱" -> Server : 설치/실행 정보 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 4. 앱 유입형 ==
User -> AdPage : 앱 내 특정 기능/페이지 실행 안내 확인
User -> "설치된 앱" : 특정 기능/페이지 실행
"설치된 앱" -> Server : 실행 정보 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 5. 액션 유도형 ==
User -> AdPage : 고난이도 액션(보험 가입, 전화 등) 안내 확인
User -> "외부 서비스" : 액션 수행(상담, 가입 등)
"외부 서비스" -> Server : 액션 완료 정보 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 6. 라이브커머스형 ==
User -> AdPage : 라이브 방송 시청 시작
AdPage -> Server : 시청 시작 기록
User -> AdPage : 5분 이상 시청
AdPage -> Server : 시청 시간 기록
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 7. 리타겟팅형 ==
User -> AdPage : 이전에 본 상품/페이지 재방문
AdPage -> Server : 재방문 기록 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

== 8. 랭킹 부스팅형 ==
User -> AdPage : 앱 내 특정 액션(검색, 장소 저장 등) 안내 확인
User -> "설치된 앱" : 액션 수행(장소 저장 등)
"설치된 앱" -> Server : 액션 정보 전송
Server --> AdPage : 리워드 지급 응답
AdPage --> User : "리워드 지급 완료" 안내

@enduml
